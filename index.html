<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Silly Story Generator ‚Äî Deluxe (500+ easy stories)</title>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<style>
  /* ========== Fonts & base ========== */
  @import url('https://fonts.googleapis.com/css2?family=Baloo+2:wght@400;700&family=Inter:wght@300;400;600&display=swap');

  :root{
    --bg1: #ffecd2;
    --bg2: #fcb69f;
    --accent: #8d2b8b;
    --glass: rgba(255,255,255,0.75);
    --muted: rgba(0,0,0,0.55);
  }

  *{box-sizing:border-box}
  html,body{height:100%;margin:0;font-family:"Inter",system-ui,Segoe UI,Roboto,Arial,sans-serif;-webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;}
  body{
    background: linear-gradient(120deg, #fef3c7 0%, #fde68a 25%, #fbcfe8 50%, #c7d2fe 75%, #e0e7ff 100%);
    background-size: 400% 400%;
    animation: bgShift 18s ease infinite;
    color:#111827;
    display:flex;
    align-items:center;
    justify-content:center;
    padding:32px;
  }
  @keyframes bgShift {
    0%{background-position:0% 50%}
    50%{background-position:100% 50%}
    100%{background-position:0% 50%}
  }

  /* container */
  .app {
    width: min(1100px, 96%);
    max-width:1200px;
    border-radius:20px;
    padding:28px;
    background: linear-gradient(180deg, rgba(255,255,255,0.9), rgba(255,255,255,0.82));
    box-shadow: 0 10px 40px rgba(13, 17, 23, 0.15);
    border: 1px solid rgba(0,0,0,0.05);
    position:relative;
    overflow:hidden;
  }

  /* floating emoji background */
  .emoji-layer{
    pointer-events:none;
    position:absolute;
    inset:0;
    z-index:0;
    overflow:hidden;
  }
  .emoji {
    position:absolute;
    font-size:26px;
    opacity:0.16;
    transform: translateY(0) rotate(0deg);
    animation: floatEm 16s linear infinite;
    text-shadow: 0 1px 0 rgba(255,255,255,0.35);
  }
  @keyframes floatEm {
    0%{transform: translateY(110vh) rotate(0deg)}
    100%{transform: translateY(-40vh) rotate(360deg)}
  }

  /* header */
  .top {
    display:flex;
    gap:18px;
    align-items:center;
    z-index:3;
    position:relative;
  }
  .logo {
    width:84px;
    height:84px;
    border-radius:18px;
    display:grid;
    place-items:center;
    background: linear-gradient(135deg,#fff0fb,#ffe7f0);
    box-shadow: 0 8px 20px rgba(139,92,246,0.12), inset 0 1px 0 rgba(255,255,255,0.6);
    transform: rotate(-8deg);
    font-size:36px;
  }
  .title h1{
    margin:0;font-family:"Baloo 2", "Baloo", cursive; font-size:28px; color:var(--accent);
    text-shadow: 0 4px 10px rgba(141,43,139,0.08);
    letter-spacing:0.4px;
    animation: titlePop 2.6s ease-in-out infinite;
  }
  @keyframes titlePop {
    0%,100%{transform: translateY(0)}
    50%{transform: translateY(-6px)}
  }
  .subtitle {margin:6px 0 0 0; color:var(--muted); font-size:14px;}

  /* controls row */
  .controls {
    margin-left:auto;
    display:flex;
    gap:10px;
    align-items:center;
    z-index:3;
  }
  .controls .sound-toggle {
    display:flex;
    gap:8px;
    align-items:center;
    background: linear-gradient(180deg, rgba(255,255,255,0.9), rgba(255,255,255,0.85));
    border-radius:999px;
    padding:8px 12px;
    border:1px solid rgba(0,0,0,0.03);
    font-size:14px;
    cursor:pointer;
    user-select:none;
    box-shadow: 0 6px 18px rgba(14,22,30,0.05);
  }
  .controls .sound-toggle .dot {width:14px;height:14px;border-radius:50%;background:var(--accent);box-shadow:0 2px 6px rgba(141,43,139,0.25)}

  /* input area */
  .form {
    margin-top:18px;
    display:flex;
    gap:12px;
    align-items:center;
    z-index:3;
  }
  .form input[type="text"]{
    padding:12px 14px;
    border-radius:12px;
    border:1px solid rgba(0,0,0,0.06);
    font-size:16px;
    width:320px;
    background:linear-gradient(180deg,rgba(255,255,255,0.98), rgba(250,250,250,0.98));
    outline:none;
    transition: box-shadow .18s ease, transform .12s ease;
  }
  .form input[type="text"]:focus{box-shadow:0 6px 20px rgba(141,43,139,0.08); transform: translateY(-2px);}

  .btn {
    padding:12px 18px;
    background: linear-gradient(90deg, #ff6fb5, #ffb3ff);
    color:white;
    border:none;
    border-radius:12px;
    font-weight:700;
    cursor:pointer;
    box-shadow: 0 12px 30px rgba(255,111,181,0.12), 0 2px 6px rgba(0,0,0,0.06);
    transition: transform .12s ease, box-shadow .12s ease;
    font-size:15px;
  }
  .btn:hover{ transform: translateY(-4px) scale(1.02); box-shadow: 0 18px 38px rgba(255,111,181,0.14); }

  /* story card */
  .story-card {
    margin-top:22px;
    border-radius:16px;
    padding:22px;
    background: linear-gradient(180deg, rgba(255,255,255,0.98), rgba(255,255,255,0.96));
    border: 1px solid rgba(0,0,0,0.03);
    box-shadow: 0 10px 30px rgba(14,22,30,0.06);
    min-height:130px;
    display:flex;
    align-items:center;
    justify-content:center;
    position:relative;
    overflow:hidden;
    z-index:3;
  }
  .story-text{
    font-family:"Baloo 2", "Baloo", cursive;
    font-size:20px;
    line-height:1.3;
    color:#2b2b2b;
    text-align:center;
    max-width:860px;
    padding:6px 12px;
  }
  .small-hint{ margin-top:10px; font-size:13px; color:var(--muted); text-align:center; }

  /* footer actions */
  .footer {
    margin-top:18px;
    display:flex;
    gap:12px;
    align-items:center;
    justify-content:space-between;
    z-index:3;
  }
  .footer .left { color:var(--muted); font-size:13px; }
  .footer .right { display:flex; gap:10px; align-items:center; }

  .copy-btn {
    padding:8px 12px;
    border-radius:10px;
    border:1px solid rgba(0,0,0,0.05);
    background:rgba(255,255,255,0.98);
    cursor:pointer;
  }

  /* responsive */
  @media (max-width:800px){
    .form{flex-direction:column;align-items:stretch}
    .form input{width:100%}
    .controls{display:none}
    .logo{width:64px;height:64px;font-size:28px}
  }
</style>
</head>
<body>
  <main class="app" aria-label="Silly Story Generator app">
    <div class="emoji-layer" id="emojiLayer" aria-hidden="true"></div>

    <div class="top">
      <div class="logo" aria-hidden="true">ü¶Ñ</div>
      <div class="title">
        <h1>Silly Story Generator ‚Äî Deluxe</h1>
        <div class="subtitle">500+ short, simple stories that anyone can understand ‚Äî click to get silly.</div>
      </div>

      <div class="controls" role="group" aria-label="controls">
        <div id="soundToggle" class="sound-toggle" role="button" aria-pressed="true" tabindex="0" title="Toggle sound">
          <div class="dot" id="soundDot"></div>
          <div style="font-size:13px;color:var(--muted)">Sound</div>
        </div>
      </div>
    </div>

    <section class="form" aria-label="Generate a story">
      <input id="nameInput" type="text" placeholder="Enter your name" aria-label="Your name" />
      <button id="generateBtn" class="btn" aria-label="Generate story">Generate Story</button>
      <button id="surpriseBtn" class="btn" style="background:linear-gradient(90deg,#a78bfa,#ffb5b5);">Surprise Me</button>
    </section>

    <article class="story-card" id="storyCard" aria-live="polite">
      <div>
        <div class="story-text" id="storyText">Your silly story will appear here ‚Äî short, clear, and funny.</div>
        <div class="small-hint">Tip: Press Enter while the input is focused, or click "Surprise Me" for a random name.</div>
      </div>
    </article>

    <div class="footer">
      <div class="left">Made for the <strong>Useless Project</strong> ‚Äî delightfully pointless.</div>
      <div class="right">
        <div id="counter" style="font-size:13px;color:var(--muted)">Stories shown: <span id="showCount">0</span></div>
        <button id="copyBtn" class="copy-btn" title="Copy story to clipboard">Copy</button>
      </div>
    </div>
  </main>

<script>
/* ============================
   Visual & UX Enhancements
   ============================ */

/* Floating emoji population */
const emojiLayer = document.getElementById('emojiLayer');
const EMOJI_CHOICE = ["ü¶Ñ","üçï","üçå","üê∂","üç≠","ü¶ñ","ü™Ñ","üéà","üß∏","üê•","üåÆ","üç©","üêµ","ü´ß","ü™©"];
function spawnFloatingEmojis(count = 18){
  for(let i=0;i<count;i++){
    const e = document.createElement('div');
    e.className = 'emoji';
    e.textContent = EMOJI_CHOICE[Math.floor(Math.random()*EMOJI_CHOICE.length)];
    const left = Math.random() * 100;
    e.style.left = left + 'vw';
    e.style.top = (60 + Math.random()*40) + 'vh'; // start below view for float
    e.style.fontSize = (18 + Math.random()*34) + 'px';
    e.style.opacity = (0.08 + Math.random()*0.16);
    e.style.animationDuration = (12 + Math.random()*10) + 's';
    e.style.animationDelay = (Math.random()*6) + 's';
    emojiLayer.appendChild(e);
  }
}
spawnFloatingEmojis(20);

/* ============================
   Sound setup (external links)
   ============================ */
/* Using externally hosted short silly sounds (keeps file small).
   You chose "link them from the web" so these URLs are used.
   If any fail to load, the code handles it gracefully.
*/
const soundUrls = [
  "https://www.soundjay.com/buttons/sounds/button-16.mp3",
  "https://www.soundjay.com/buttons/sounds/button-4.mp3",
  "https://www.soundjay.com/misc/sounds/bell-ringing-01.mp3",
  "https://www.soundjay.com/human/sounds/applause-8.mp3",
  "https://www.soundjay.com/button/sounds/button-09.mp3",
  "https://www.soundjay.com/misc/sounds/boing-02.mp3"
];

const audioEls = soundUrls.map(url => {
  const a = new Audio(url);
  a.preload = "auto";
  a.volume = 0.85;
  return a;
});

let soundOn = true;
const soundToggle = document.getElementById('soundToggle');
const soundDot = document.getElementById('soundDot');
soundToggle.addEventListener('click', toggleSound);
soundToggle.addEventListener('keydown', (e) => { if(e.key==='Enter' || e.key===' ') { e.preventDefault(); toggleSound(); }});
function toggleSound(){
  soundOn = !soundOn;
  soundToggle.setAttribute('aria-pressed', soundOn ? 'true' : 'false');
  soundDot.style.background = soundOn ? 'var(--accent)' : '#ddd';
}

/* play a short random sound */
function playRandomSound(){
  if(!soundOn) return;
  try{
    const a = audioEls[Math.floor(Math.random()*audioEls.length)];
    // clone to allow overlapping
    const clone = a.cloneNode();
    clone.volume = 0.9;
    clone.play().catch(()=>{/* autoplay blocked or load fail */});
  }catch(e){}
}

/* ============================
   Stories generation (500+)
   Easy-to-understand short stories.
   We generate combinations from small lists
   so each sentence is simple and clear.
   ============================ */
const verbs = [
  "found", "wore", "brought", "built", "taught", "fed", "chased", "gave",
  "borrowed", "baked", "painted", "decorated", "hid", "named", "traded",
  "wrote", "sang to", "danced with", "swapped", "jumped on", "sat on",
  "rode", "opened", "closed", "shared"
];

const objects = [
  "a tiny dragon", "a talking sandwich", "socks for a cat", "a bicycle made of bread",
  "a hat made of pancakes", "a dancing spoon", "invisible shoes", "a box of giggles",
  "a pet cloud", "a jelly donut", "a friendly ghost", "a rainbow umbrella",
  "a pillow with pockets", "a suitcase full of balloons", "a map to the kitchen",
  "a singing goldfish", "a purple banana", "a donut-shaped hat", "a toothbrush for a tiger",
  "a cardboard spaceship", "a cookie that tells jokes", "a lamp that whispers",
  "a tiny castle", "a mirror that smiles", "a sweater for a cactus"
];

const locations = [
  "at school", "in the kitchen", "during lunch", "on a rainy day", "on the bus",
  "in the backyard", "under the bed", "at the zoo", "on a cloud", "at the grocery store",
  "in the neighbor's yard", "at the playground", "in the garden", "at bedtime", "during recess"
];

/* produce unique combinations until we hit 500+ */
const stories = [];
for(let v=0; v<verbs.length && stories.length < 520; v++){
  for(let o=0; o<objects.length && stories.length < 520; o++){
    for(let l=0; l<locations.length && stories.length < 520; l++){
      let verb = verbs[v];
      let object = objects[o];
      let loc = locations[l];
      // simple grammar fix for verbs like "sang to", "danced with" (they already include space)
      let sentence = "";
      if(verb.endsWith("to") || verb.endsWith("with")){
        sentence = `{name} ${verb} ${object} ${loc}.`;
      } else {
        sentence = `{name} ${verb} ${object} ${loc}.`;
      }
      stories.push(sentence);
    }
  }
}

/* Safety: ensure at least 500 stories; if not, extend with simple templates */
while(stories.length < 500){
  stories.push("{name} had a tiny adventure with a silly thing.");
}

/* Shuffle stories to avoid patterns */
function shuffle(a){
  for(let i=a.length-1;i>0;i--){
    const j = Math.floor(Math.random()*(i+1));
    [a[i], a[j]] = [a[j], a[i]];
  }
}
shuffle(stories);

/* ============================
   Name sillifier (light, kid-friendly)
   ============================ */
function sillifyName(name){
  const endings = [
    " the Brave", " of Pancakeland", " the Silly", " the Bouncy", " McGiggles",
    " the Toasty", " of Bubbleville", " the Wiggle", " the Jolly", " the Snack"
  ];
  if(!name) return "";
  // small chance to sillify
  if(Math.random() < 0.28){
    return name + endings[Math.floor(Math.random()*endings.length)];
  }
  return name;
}

/* Capitalize name nicely */
function tidyName(name){
  if(!name) return "";
  name = name.trim();
  if(name.length === 0) return "";
  // simple capitalization
  return name.split(/\s+/).map(s => s[0].toUpperCase() + s.slice(1).toLowerCase()).join(" ");
}

/* ============================
   Typewriter reveal for story text
   ============================ */
const storyTextEl = document.getElementById('storyText');
let typingTimer = null;
let typingAbort = false;
function typeOut(text, speed = 20){
  typingAbort = true; // stop any previous in-progress typing
  if(typingTimer) clearTimeout(typingTimer);
  // small delay to allow abort
  setTimeout(()=> {
    typingAbort = false;
    storyTextEl.textContent = "";
    let i = 0;
    function step(){
      if(typingAbort) return;
      if(i <= text.length){
        storyTextEl.textContent = text.slice(0, i);
        i++;
        typingTimer = setTimeout(step, speed);
      } else {
        typingTimer = null;
      }
    }
    step();
  }, 8);
}

/* ============================
   Core: pick and show story
   ============================ */
const generateBtn = document.getElementById('generateBtn');
const surpriseBtn = document.getElementById('surpriseBtn');
const nameInput = document.getElementById('nameInput');
const showCountEl = document.getElementById('showCount');
const copyBtn = document.getElementById('copyBtn');

let shown = 0;

function getRandomStory(name){
  // pick from pre-shuffled stories
  const index = Math.floor(Math.random()*stories.length);
  let template = stories[index];
  let useName = tidyName(name);
  if(!useName) useName = "Someone";

  // sometimes sillify
  const finalName = sillifyName(useName);
  const story = template.replaceAll("{name}", finalName);
  return story;
}

function showStory(name){
  const story = getRandomStory(name);
  // play sound
  playRandomSound();
  // type it out
  typeOut("üìö " + story, 24);
  shown++;
  showCountEl.textContent = shown.toString();
  // small visual pop on card
  const card = document.getElementById('storyCard');
  card.animate([{ transform: 'translateY(0) scale(1)'}, { transform: 'translateY(-6px) scale(1.01)' }, { transform: 'translateY(0) scale(1)'}], { duration: 420, easing: 'cubic-bezier(.2,.9,.3,1)' });
}

/* button handlers */
generateBtn.addEventListener('click', () => {
  showStory(nameInput.value);
});
nameInput.addEventListener('keydown', (e) => {
  if(e.key === 'Enter'){
    e.preventDefault();
    showStory(nameInput.value);
  }
});
surpriseBtn.addEventListener('click', () => {
  // generate a random silly name and use it
  const sampleNames = ["Gokul","Lily","Sam","Maya","Ravi","Asha","Leo","Tina","Noah","Mina","Zoe","Arun"];
  const r = sampleNames[Math.floor(Math.random()*sampleNames.length)];
  nameInput.value = r;
  showStory(r);
});

/* copy action */
copyBtn.addEventListener('click', async() => {
  const text = storyTextEl.textContent || "";
  try{
    await navigator.clipboard.writeText(text);
    copyBtn.textContent = "Copied!";
    setTimeout(()=> copyBtn.textContent = "Copy", 1200);
  }catch(e){
    copyBtn.textContent = "Could not copy";
    setTimeout(()=> copyBtn.textContent = "Copy", 1200);
  }
});

/* init with a welcome story */
setTimeout(()=> showStory("Friend"), 350);

/* ============================
   Extra: small keyboard hint (space to re-roll)
   ============================ */
document.addEventListener('keydown', (e)=>{
  if(e.code === 'Space' && document.activeElement !== nameInput){
    e.preventDefault();
    showStory(nameInput.value);
  }
});

/* End of script */
</script>
</body>
</html>
